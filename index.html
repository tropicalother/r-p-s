<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Rock Paper Scissors</title>
</head>
<body>
  <script>
    // Your JavaScript goes here!
    function getComputerChoice()
    {
    let randomNum = Math.floor((Math.random()*300));
        if ((randomNum % 3) == 2)
               {
                 return "rock";
               }
            else if ((randomNum % 3) ==1)
                {
                return "paper";
                }
            else
                {
                return "scissors";
                }
    }


    function playRound(playerSelection, computerSelection)
    {
        playerSelection = playerSelection.toLowerCase();
        computerSelection = computerSelection.toLowerCase();

        if (playerSelection == computerSelection)
        {
            console.log("It's a draw.")
            return 2 
        }
            else
            {
                if (playerSelection == "rock")
                {
                    if (computerSelection == "paper")
                        {
                            console.log("You chose rock, they chose paper. You lose.")
                            return 0
                        }
                    else
                        {
                            console.log("You chose rock, they chose scissors. You win.")
                            return 1                        
                        }
                }
            if (playerSelection == "paper")
                {
                    if (computerSelection == "rock")
                        {
                            console.log("You chose paper, they chose rock. You win.")
                            return 1
                        }
                    else
                        {
                            console.log("You chose paper, they chose scissors. You lose.")
                            return 0
                        }
                }
            
            if (playerSelection == "scissors")
                  {
                    if (computerSelection == "rock")
                        {
                            console.log("You chose scissors, they chose rock. You lose.")
                            return 0
                        }
                    else
                        {
                            console.log("You chose scissors, they chose paper. You win.")
                            return 1
                        }
                }
            }
    }

    function game()
    {
        let pScore = 0;
        let cScore = 0;
        let whoWon = 0;

        for (i=0; i<999; i++)
        {
        console.log("Player score: " + pScore + "\nComputer score: " + cScore + "\nThe game will go until someone reaches 5 points.")
        

            
        whoWon = playRound(prompt("Choose rock, paper, or scissors."), getComputerChoice())
        
        if (whoWon == 0)
            cScore++;
        else if (whoWon == 1)
            pScore++;


        if (pScore == 5)
        {
            console.log("Congratulations, you won.")
            break
        }
        if (cScore == 5)
        {
            console.log("Too bad, you lost.")
            break
        }


    }
    }

    game();
    /*
    console.log(playRound(prompt("Choose rock, paper, or scissors."), getComputerChoice))
        console.log(playRound(prompt("Choose rock, paper, or scissors."), getComputerChoice))
            console.log(playRound(prompt("Choose rock, paper, or scissors."), getComputerChoice))
                console.log(playRound(prompt("Choose rock, paper, or scissors."), getComputerChoice))
*/
  </script>
</body>
</html>